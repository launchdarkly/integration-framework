{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "buttonAction": {
    "$id": "#/properties/capability/button-action",
    "title": "Button action",
    "description": "This capability will enable LaunchDarkly to send generic requests to an external API upon the click of a button.",
    "type": "object",
    "propertyNames": {
      "enum": ["actionRequest", "requestBodyTemplates"]
    },
    "required": ["actionRequest", "requestBodyTemplates"],
    "properties": {
      "actionRequest": {
        "$id": "#/properties/capability/button-action/action-request",
        "title": "Action Request",
        "description": "Describes the HTTP request for the action",
        "propertyNames": {
          "enum": ["endpoint"]
        },
        "required": ["endpoint"],
        "properties": {
          "endpoint": {
            "$ref": "../definitions.json#/endpoint"
          }
        }
      },
      "requestBodyTemplates": {
        "$id": "#/properties/capability/button-action/request-body-templates",
        "title": "Request Body Templates",
        "description": "An array of json objects that can be sent as request bodies",
        "type": "array",
        "items": {
          "type": "object",
          "required": ["key", "jsonBody", "requiredContext"],
          "properties": {
            "key": {
              "type": "string",
              "description": "A unique identifier for the specific request body"
            },
            "jsonBody": {
              "$ref": "../definitions.json#/jsonBody"
            },
            "requiredContext": {
              "type": "array",
              "description": "An array of context strings that are required to correctly resolve the request body",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  }
}
